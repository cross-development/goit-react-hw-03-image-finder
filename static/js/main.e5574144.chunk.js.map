{"version":3,"sources":["components/Button/Button.module.css","components/ImageGallery/ImageGallery.module.css","components/Notification/Notification.module.css","components/Loader/Loader.js","components/Button/Button.js","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Notification/Notification.js","services/imagesApi.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","customCSS","margin","height","width","Loader","type","color","style","Button","label","onLoad","className","styles","button","onClick","defaultProps","Searchbar","state","inputValue","handleChange","e","value","target","setState","handleSubmit","preventDefault","props","onSubmit","this","searchbar","searchForm","buttonLabel","input","autoFocus","autoComplete","placeholder","onChange","Component","Modal","handleCloseModal","code","nodeName","onClose","window","addEventListener","removeEventListener","image","alt","overlay","modal","src","ImageGalleryItem","showModal","toggleModal","prevState","webFormat","tags","largeImage","item","itemImage","ImageGallery","images","list","map","id","webformatURL","largeImageURL","key","Notification","message","errorWrapper","API_KEY","baseURL","fetchImagesByQuery","searchQuery","a","page","fetch","response","json","parsedResponse","hits","App","loading","error","fetchImages","imagesApi","then","catch","finally","handleFormSubmit","query","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.e5574144.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1pYIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"list\":\"ImageGallery_list__2f8mu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrapper\":\"Notification_errorWrapper__2tvtu\"};","//Core\r\nimport React from 'react';\r\n//Additional components\r\nimport Spinner from 'react-loader-spinner';\r\n//Styles\r\nconst customCSS = {\r\n\tmargin: '0 47%',\r\n\theight: '80',\r\n\twidth: '80',\r\n};\r\n\r\nconst Loader = () => <Spinner type=\"ThreeDots\" color=\"#0984e3\" style={customCSS} />;\r\n\r\nexport default Loader;\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ label, onLoad }) => (\r\n\t<button type=\"submit\" className={styles.button} onClick={onLoad}>\r\n\t\t{label}\r\n\t</button>\r\n);\r\n\r\nButton.defaultProps = {\r\n\tlabel: 'Search',\r\n};\r\n\r\nButton.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonLoad: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n\tstatic propTypes = {\r\n\t\tonSubmit: PropTypes.func.isRequired,\r\n\t};\r\n\r\n\tstate = {\r\n\t\tinputValue: '',\r\n\t};\r\n\r\n\thandleChange = e => {\r\n\t\tconst { value } = e.target;\r\n\r\n\t\tthis.setState({ inputValue: value });\r\n\t};\r\n\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\r\n\t\tconst { inputValue } = this.state;\r\n\r\n\t\tthis.props.onSubmit(inputValue);\r\n\t\tthis.setState({ inputValue: '' });\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { inputValue } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<header className={styles.searchbar}>\r\n\t\t\t\t<form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className={styles.button}>\r\n\t\t\t\t\t\t<span className={styles.buttonLabel}>Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={styles.input}\r\n\t\t\t\t\t\tautoFocus\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\tautoComplete=\"off\"\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tvalue={inputValue}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n\tstatic propTypes = {\r\n\t\talt: PropTypes.string,\r\n\t\timage: PropTypes.string.isRequired,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\talt: 'photo from Pixabay',\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('keydown', this.handleCloseModal);\r\n\t\twindow.addEventListener('click', this.handleCloseModal);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('keydown', this.handleCloseModal);\r\n\t\twindow.removeEventListener('click', this.handleCloseModal);\r\n\t}\r\n\r\n\thandleCloseModal = e => {\r\n\t\tif (e.code === 'Escape' || e.target.nodeName === 'DIV') {\r\n\t\t\tthis.props.onClose();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { image, alt } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={styles.overlay}>\r\n\t\t\t\t<div className={styles.modal}>\r\n\t\t\t\t\t<img src={image} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Components\r\nimport Modal from '../Modal';\r\n//Styles\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n\tstatic propTypes = {\r\n\t\ttags: PropTypes.string,\r\n\t\twebFormat: PropTypes.string.isRequired,\r\n\t\tlargeImage: PropTypes.string.isRequired,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\ttags: 'Photo from Pixabay',\r\n\t};\r\n\r\n\tstate = {\r\n\t\tshowModal: false,\r\n\t};\r\n\r\n\ttoggleModal = () => this.setState(prevState => ({ showModal: !prevState.showModal }));\r\n\r\n\trender() {\r\n\t\tconst { webFormat, tags, largeImage } = this.props;\r\n\t\tconst { showModal } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<li className={styles.item}>\r\n\t\t\t\t<img src={webFormat} alt={tags} className={styles.itemImage} onClick={this.toggleModal} />\r\n\r\n\t\t\t\t{showModal && <Modal image={largeImage} alt={tags} onClose={this.toggleModal} />}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Components\r\nimport ImageGalleryItem from '../ImageGalleryItem';\r\n//Style\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => (\r\n\t<ul className={styles.list}>\r\n\t\t{images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n\t\t\t<ImageGalleryItem key={id} webFormat={webformatURL} largeImage={largeImageURL} tags={tags} />\r\n\t\t))}\r\n\t</ul>\r\n);\r\n\r\nImageGallery.propTypes = {\r\n\timages: PropTypes.arrayOf(PropTypes.object).isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Style\r\nimport style from './Notification.module.css';\r\n\r\nconst Notification = ({ message }) => (\r\n\t<div className={style.errorWrapper}>\r\n\t\t<p>`Woops, something went wrong ${message}`</p>\r\n\t</div>\r\n);\r\n\r\nNotification.propTypes = {\r\n\tmessage: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","//Core\r\nconst API_KEY = '16822291-3bd987bc1a9b2ff27c6ed5ac6';\r\nconst baseURL = 'https://pixabay.com/api';\r\n\r\nconst fetchImagesByQuery = async (searchQuery, page = 1) => {\r\n\ttry {\r\n\t\tconst response = await fetch(\r\n\t\t\t`${baseURL}/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n\t\t);\r\n\t\tconst parsedResponse = await response.json();\r\n\r\n\t\treturn parsedResponse.hits;\r\n\t} catch (error) {\r\n\t\tthrow error;\r\n\t}\r\n};\r\n\r\nexport default {\r\n\tfetchImagesByQuery,\r\n};\r\n","//Core\nimport React, { Component } from 'react';\n//Components\nimport Loader from '../Loader';\nimport Button from '../Button';\nimport Searchbar from '../Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Notification from '../Notification';\n//Services\nimport imagesApi from '../../services/imagesApi';\n//Styles\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n\tstate = {\n\t\timages: [],\n\t\tloading: false,\n\t\terror: null,\n\t\tsearchQuery: '',\n\t\tpage: 1,\n\t};\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst prevQuery = prevState.searchQuery;\n\t\tconst nextQuery = this.state.searchQuery;\n\n\t\tif (prevQuery !== nextQuery) {\n\t\t\tthis.fetchImages();\n\t\t}\n\n\t\twindow.scrollTo({\n\t\t\ttop: document.documentElement.scrollHeight,\n\t\t\tbehavior: 'smooth',\n\t\t});\n\t}\n\n\tfetchImages = () => {\n\t\tconst { searchQuery, page } = this.state;\n\n\t\tthis.setState({ loading: true });\n\n\t\timagesApi\n\t\t\t.fetchImagesByQuery(searchQuery, page)\n\t\t\t.then(images =>\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\timages: [...prevState.images, ...images],\n\t\t\t\t\tpage: prevState.page + 1,\n\t\t\t\t})),\n\t\t\t)\n\t\t\t.catch(error => this.setState({ error }))\n\t\t\t.finally(() => this.setState({ loading: false }));\n\t};\n\n\thandleFormSubmit = query => {\n\t\tthis.setState({ searchQuery: query, page: 1, images: [] });\n\t};\n\n\trender() {\n\t\tconst { loading, error, images } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Searchbar onSubmit={this.handleFormSubmit} />\n\n\t\t\t\t{error && <Notification message={error.message} />}\n\n\t\t\t\t{images.length > 0 && <ImageGallery images={images} />}\n\n\t\t\t\t{loading && <Loader />}\n\n\t\t\t\t{images.length > 0 && !loading && <Button label=\"Load more\" onLoad={this.fetchImages} />}\n\t\t\t</>\n\t\t);\n\t}\n}\n","//Core\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//Components\nimport App from './components/App';\n//Styles\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__8g2b7\",\"searchForm\":\"Searchbar_searchForm__2scG4\",\"button\":\"Searchbar_button__xaKnX\",\"buttonLabel\":\"Searchbar_buttonLabel__3mgRv\",\"input\":\"Searchbar_input__2dbQ3\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3lPBM\",\"modal\":\"Modal_modal__2JCwM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"ImageGalleryItem_item__1MCF5\",\"itemImage\":\"ImageGalleryItem_itemImage__3mwb4\"};"],"sourceRoot":""}