{"version":3,"sources":["components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Notification/Notification.module.css","components/Searchbar/Searchbar.js","components/Modal/Modal.js","components/ImageGalleryItem/ImageGalleryItem.js","components/ImageGallery/ImageGallery.js","components/Button/Button.js","components/Notification/Notification.js","services/imagesApi.js","components/App/App.js","index.js","components/Searchbar/Searchbar.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css"],"names":["module","exports","Searchbar","state","inputValue","handleChange","e","value","target","setState","handleSubmit","preventDefault","props","onSubmit","className","styles","searchbar","searchForm","this","type","searchFormButton","searchFormButtonLabel","searchFormInput","placeholder","onChange","Component","Modal","handleCloseModal","code","nodeName","onClose","window","addEventListener","removeEventListener","image","alt","overlay","modal","src","defaultProps","ImageGalleryItem","showModal","toggleModal","prevState","webFormat","tags","largeImage","imageGalleryItem","imageGalleryItemImage","onClick","ImageGallery","images","imageGallery","map","id","webformatURL","largeImageURL","key","Button","label","onLoad","button","Notification","message","style","errorWrapper","API_KEY","fetchImagesByQuery","searchQuery","a","page","fetch","response","json","parsedResponse","hits","App","loading","error","fetchImages","imagesApi","then","catch","finally","handleFormSubmit","query","prevProps","scrollTo","top","document","documentElement","scrollHeight","behavior","length","color","height","width","margin","ReactDOM","render","getElementById"],"mappings":"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","file":"static/js/main.398eec26.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__1mXxQ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__1pYIY\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"errorWrapper\":\"Notification_errorWrapper__2tvtu\"};","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Searchbar.module.css';\r\n\r\nexport default class Searchbar extends Component {\r\n\tstatic propTypes = {\r\n\t\tonSubmit: PropTypes.func.isRequired,\r\n\t};\r\n\r\n\tstate = {\r\n\t\tinputValue: '',\r\n\t};\r\n\r\n\thandleChange = e => {\r\n\t\tconst { value } = e.target;\r\n\t\tthis.setState({ inputValue: value });\r\n\t};\r\n\r\n\thandleSubmit = e => {\r\n\t\te.preventDefault();\r\n\t\tthis.props.onSubmit(this.state.inputValue);\r\n\t\tthis.setState({ inputValue: '' });\r\n\t};\r\n\r\n\trender() {\r\n\t\treturn (\r\n\t\t\t<header className={styles.searchbar}>\r\n\t\t\t\t<form className={styles.searchForm} onSubmit={this.handleSubmit}>\r\n\t\t\t\t\t<button type=\"submit\" className={styles.searchFormButton}>\r\n\t\t\t\t\t\t<span className={styles.searchFormButtonLabel}>Search</span>\r\n\t\t\t\t\t</button>\r\n\r\n\t\t\t\t\t<input\r\n\t\t\t\t\t\tclassName={styles.searchFormInput}\r\n\t\t\t\t\t\ttype=\"text\"\r\n\t\t\t\t\t\t// autocomplete=\"off\"\r\n\t\t\t\t\t\t// autofocus\r\n\t\t\t\t\t\tplaceholder=\"Search images and photos\"\r\n\t\t\t\t\t\tvalue={this.state.inputValue}\r\n\t\t\t\t\t\tonChange={this.handleChange}\r\n\t\t\t\t\t/>\r\n\t\t\t\t</form>\r\n\t\t\t</header>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Modal.module.css';\r\n\r\nexport default class Modal extends Component {\r\n\tstatic propTypes = {\r\n\t\timage: PropTypes.string.isRequired,\r\n\t\talt: PropTypes.string,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\talt: 'photo from Pixabay',\r\n\t};\r\n\r\n\tcomponentDidMount() {\r\n\t\twindow.addEventListener('keydown', this.handleCloseModal);\r\n\t\twindow.addEventListener('click', this.handleCloseModal);\r\n\t}\r\n\r\n\tcomponentWillUnmount() {\r\n\t\twindow.removeEventListener('keydown', this.handleCloseModal);\r\n\t\twindow.removeEventListener('click', this.handleCloseModal);\r\n\t}\r\n\r\n\thandleCloseModal = e => {\r\n\t\tif (e.code === 'Escape' || e.target.nodeName === 'DIV') {\r\n\t\t\tthis.props.onClose();\r\n\t\t}\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { image, alt } = this.props;\r\n\r\n\t\treturn (\r\n\t\t\t<div className={styles.overlay}>\r\n\t\t\t\t<div className={styles.modal}>\r\n\t\t\t\t\t<img src={image} alt={alt} />\r\n\t\t\t\t</div>\r\n\t\t\t</div>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React, { Component } from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Components\r\nimport Modal from '../Modal/Modal';\r\n//Styles\r\nimport styles from './ImageGalleryItem.module.css';\r\n\r\nexport default class ImageGalleryItem extends Component {\r\n\tstatic propTypes = {\r\n\t\twebFormat: PropTypes.string.isRequired,\r\n\t\ttags: PropTypes.string,\r\n\t\tlargeImage: PropTypes.string.isRequired,\r\n\t};\r\n\r\n\tstatic defaultProps = {\r\n\t\ttags: 'photo from Pixabay',\r\n\t};\r\n\r\n\tstate = {\r\n\t\tshowModal: false,\r\n\t};\r\n\r\n\ttoggleModal = () => {\r\n\t\tthis.setState(prevState => {\r\n\t\t\treturn { showModal: !prevState.showModal };\r\n\t\t});\r\n\t};\r\n\r\n\trender() {\r\n\t\tconst { webFormat, tags, largeImage } = this.props;\r\n\t\tconst { showModal } = this.state;\r\n\r\n\t\treturn (\r\n\t\t\t<li className={styles.imageGalleryItem}>\r\n\t\t\t\t<img\r\n\t\t\t\t\tsrc={webFormat}\r\n\t\t\t\t\talt={tags}\r\n\t\t\t\t\tclassName={styles.imageGalleryItemImage}\r\n\t\t\t\t\tonClick={this.toggleModal}\r\n\t\t\t\t/>\r\n\t\t\t\t{showModal && <Modal image={largeImage} alt={tags} onClose={this.toggleModal} />}\r\n\t\t\t</li>\r\n\t\t);\r\n\t}\r\n}\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Components\r\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\r\n//Style\r\nimport styles from './ImageGallery.module.css';\r\n\r\nconst ImageGallery = ({ images }) => {\r\n\treturn (\r\n\t\t<ul className={styles.imageGallery}>\r\n\t\t\t{images.map(({ id, webformatURL, largeImageURL, tags }) => (\r\n\t\t\t\t<ImageGalleryItem\r\n\t\t\t\t\tkey={id}\r\n\t\t\t\t\twebFormat={webformatURL}\r\n\t\t\t\t\tlargeImage={largeImageURL}\r\n\t\t\t\t\ttags={tags}\r\n\t\t\t\t/>\r\n\t\t\t))}\r\n\t\t</ul>\r\n\t);\r\n};\r\n\r\nImageGallery.propTypes = {\r\n\timages: PropTypes.array.isRequired,\r\n};\r\n\r\nexport default ImageGallery;\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Styles\r\nimport styles from './Button.module.css';\r\n\r\nconst Button = ({ label, onLoad }) => {\r\n\treturn (\r\n\t\t<button type=\"submit\" className={styles.button} onClick={onLoad}>\r\n\t\t\t{label}\r\n\t\t</button>\r\n\t);\r\n};\r\n\r\nButton.defaultProps = {\r\n\tlabel: 'Search',\r\n};\r\n\r\nButton.propTypes = {\r\n\tlabel: PropTypes.string,\r\n\tonLoad: PropTypes.func.isRequired,\r\n};\r\n\r\nexport default Button;\r\n","//Core\r\nimport React from 'react';\r\nimport PropTypes from 'prop-types';\r\n//Style\r\nimport style from './Notification.module.css';\r\n\r\nconst Notification = ({ message }) => {\r\n\treturn (\r\n\t\t<div className={style.errorWrapper}>\r\n\t\t\t<p>`Woops, something went wrong ${message}`</p>\r\n\t\t</div>\r\n\t);\r\n};\r\n\r\nNotification.propTypes = {\r\n\tmessage: PropTypes.string.isRequired,\r\n};\r\n\r\nexport default Notification;\r\n","const API_KEY = '16822291-3bd987bc1a9b2ff27c6ed5ac6';\r\n\r\nconst fetchImagesByQuery = async (searchQuery, page = 1) => {\r\n\tconst response = await fetch(\r\n\t\t`https://pixabay.com/api/?q=${searchQuery}&page=${page}&key=${API_KEY}&image_type=photo&orientation=horizontal&per_page=12`,\r\n\t);\r\n\tconst parsedResponse = await response.json();\r\n\r\n\treturn parsedResponse.hits;\r\n};\r\n\r\nexport default {\r\n\tfetchImagesByQuery,\r\n};\r\n","//Core\nimport React, { Component } from 'react';\n//Components\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery/ImageGallery';\nimport Button from '../Button/Button';\nimport Loader from 'react-loader-spinner';\nimport Notification from '../Notification/Notification';\n//Services\nimport imagesApi from '../../services/imagesApi';\n//Styles\nimport './App.css';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\n\nexport default class App extends Component {\n\tstate = {\n\t\timages: [],\n\t\tloading: false,\n\t\terror: null,\n\t\tsearchQuery: '',\n\t\tpage: 1,\n\t};\n\n\tcomponentDidUpdate(prevProps, prevState) {\n\t\tconst prevQuery = prevState.searchQuery;\n\t\tconst nextQuery = this.state.searchQuery;\n\n\t\tif (prevQuery !== nextQuery) {\n\t\t\tthis.fetchImages();\n\t\t}\n\n\t\twindow.scrollTo({\n\t\t\ttop: document.documentElement.scrollHeight,\n\t\t\tbehavior: 'smooth',\n\t\t});\n\t}\n\n\tfetchImages = () => {\n\t\tconst { searchQuery, page } = this.state;\n\n\t\tthis.setState({ loading: true });\n\n\t\timagesApi\n\t\t\t.fetchImagesByQuery(searchQuery, page)\n\t\t\t.then(images =>\n\t\t\t\tthis.setState(prevState => ({\n\t\t\t\t\timages: [...prevState.images, ...images],\n\t\t\t\t\tpage: prevState.page + 1,\n\t\t\t\t})),\n\t\t\t)\n\t\t\t.catch(error => this.setState({ error }))\n\t\t\t.finally(() => this.setState({ loading: false }));\n\t};\n\n\thandleFormSubmit = query => {\n\t\tthis.setState({ searchQuery: query, page: 1, images: [] });\n\t};\n\n\trender() {\n\t\tconst { loading, error, images } = this.state;\n\n\t\treturn (\n\t\t\t<>\n\t\t\t\t<Searchbar onSubmit={this.handleFormSubmit} />\n\n\t\t\t\t{error && <Notification message={error.message} />}\n\n\t\t\t\t{images.length > 0 && <ImageGallery images={images} />}\n\n\t\t\t\t{loading && (\n\t\t\t\t\t<Loader\n\t\t\t\t\t\ttype=\"ThreeDots\"\n\t\t\t\t\t\tcolor=\"#00BFFF\"\n\t\t\t\t\t\theight={80}\n\t\t\t\t\t\twidth={80}\n\t\t\t\t\t\tstyle={{ margin: '0 47%' }}\n\t\t\t\t\t/>\n\t\t\t\t)}\n\n\t\t\t\t{images.length > 0 && !loading && <Button label=\"Load more\" onLoad={this.fetchImages} />}\n\t\t\t</>\n\t\t);\n\t}\n}\n","//Core\nimport React from 'react';\nimport ReactDOM from 'react-dom';\n//Components\nimport App from './components/App/App';\n//Styles\nimport './index.css';\n\nReactDOM.render(<App />, document.getElementById('root'));\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__8g2b7\",\"searchForm\":\"Searchbar_searchForm__2scG4\",\"searchFormButton\":\"Searchbar_searchFormButton__2fWVj\",\"searchFormButtonLabel\":\"Searchbar_searchFormButtonLabel__oRIHs\",\"searchFormInput\":\"Searchbar_searchFormInput__3bKu-\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3lPBM\",\"modal\":\"Modal_modal__2JCwM\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__3Aqpt\",\"imageGalleryItemImage\":\"ImageGalleryItem_imageGalleryItemImage__ZLjOw\"};"],"sourceRoot":""}